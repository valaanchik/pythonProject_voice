import os
import sys
import pyttsx3
import time
import datetime
from random import randint


engine = pyttsx3.init()
engine.setProperty('rate', 180)


def speaker(text):
	'''ÐžÐ·Ð²ÑƒÑ‡ÐºÐ° Ñ‚ÐµÐºÑÑ‚Ð°'''
	engine.say(text)
	engine.runAndWait()


def offBot():
    '''ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ Ð±Ð¾Ñ‚Ð°'''
    sys.exit()


def empty():
    '''Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð·Ð°Ð³Ð»ÑƒÑˆÐºÐ° Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ð¸ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹'''
    pass


def passive():
    '''Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð·Ð°Ð³Ð»ÑƒÑˆÐºÐ° Ð¿Ñ€Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¼ Ð´Ð¸Ð°Ð»Ð¾Ð³Ðµ Ñ Ð±Ð¾Ñ‚Ð¾Ð¼'''
    pass


def for_welcome():
    now = datetime.datetime.now()
    res = ''
    if now.hour >= 6 and now.hour < 12 : res = 'Ð”Ð¾Ð±Ñ€Ð¾Ðµ ÑƒÑ‚Ñ€Ð¾!'
    elif now.hour >= 12 and now.hour < 18: res = 'Ð”Ð¾Ð±Ñ€Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ!'
    elif now.hour >= 18 and now.hour < 23: res = 'Ð”Ð¾Ð±Ñ€Ñ‹Ð¹ Ð²ÐµÑ‡ÐµÑ€!'
    else: res = 'Ð”Ð¾Ð±Ñ€Ð¾Ð¹ Ð½Ð¾Ñ‡Ð¸!'
    return res


prev_song = None
def play_music():
    '''ðŸŽ§ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð¼ÑƒÐ·Ñ‹ÐºÐ¸ ðŸŽ§'''
    global prev_song
    music_dir = 'music\\'
    if not os.path.isdir(music_dir):
        print('Ð£ÐºÐ°Ð·Ð°Ð½Ð½Ñ‹Ð¹ ÐºÐ°Ñ‚Ð°Ð»Ð¾Ð³ Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚')
        return
    songs = os.listdir(music_dir)
    d = len(songs)
    num = randint(0, d-1)
    if prev_song == num:
        if num == d-1:
            num = 0
        else:
            num += 1
    prev_song = num
    os.startfile(os.path.join(music_dir, songs[num]))


prev_joke = None
def readJoke():
    '''ðŸ¤¡ ÐšÐ°Ð¿Ð¸ ÑÐ¼ÐµÑˆÐ½Ð¾ Ð²ÐµÑÐµÐ»Ð¸Ñ‚ ðŸ¤¡'''
    global prev_joke
    if not os.path.isfile('Superfunny_Jokes.txt'):
            print(f'Ð¤Ð°Ð¹Ð» \"Superfunny_Jokes.txt\" Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚')
            return
    with open('Superfunny_Jokes.txt', 'r', encoding='utf-8') as f:
        count = f.readline().rstrip("\n")
        if str.isdigit(count) == False:
            return "ÐÐ¨Ð˜Ð‘ÐšÐ Ð’ Ð¤ÐžÐ ÐœÐ˜Ð ÐžÐ’ÐÐÐ˜Ð˜ Ð¤ÐÐ™Ð›Ð Ð¨Ð£Ð¢ÐžÐš"
        d = int(count)
        num = randint(1, d)
        if prev_joke == num:
            if num == d:
                num = 1
            else:
                num += 1
        prev_joke = num
        line = None;
        for i in range(num):
            line = f.readline()
        return line


def getTime():
    '''âŒš ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾ ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ð¾Ð³Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ âŒš'''

    decades = {

        2:'Ð´Ð²Ð°Ð´Ñ†Ð°Ñ‚ÑŒ',
        3:'Ñ‚Ñ€Ð¸Ð´Ñ†Ð°Ñ‚ÑŒ',
        4:'ÑÐ¾Ñ€Ð¾Ðº',
        5:'Ð¿ÑÑ‚ÑŒÐ´ÐµÑÑÑ‚',

    }

    s = time.strftime('%H %M').split(' ')

    #s = '01 51' # Ð¢Ð•Ð¡Ð¢, Ð£Ð‘Ð ÐÐ¢Ð¬!!!
    #s = s.split(' ') # Ð¢Ð•Ð¡Ð¢, Ð£Ð‘Ð ÐÐ¢Ð¬!!!

    h = int(s[0])
    m = int(s[1])

    res = s[0]

    if h < 10 or h > 19:
        if h % 10 == 1:
            res += ' Ñ‡Ð°Ñ '
        elif h % 10 > 1 and h % 10 < 5:
            res += ' Ñ‡Ð°ÑÐ° '
        else:
            res += ' Ñ‡Ð°ÑÐ¾Ð² '
    else:
        res += ' Ñ‡Ð°ÑÐ¾Ð² '
    

    whole = m // 10
    rem = m % 10

    if m > 9 and m < 20:
        res += s[1]
    elif m < 10 :
        if rem == 1:
            res += '0 Ð¾Ð´Ð½Ð°'
        elif rem == 2:
            res += '0 Ð´Ð²Ðµ'
        else:
            res += s[1]
    else:
        if rem == 1:
            res += decades[whole]
            res += ' Ð¾Ð´Ð½Ð°'
        elif rem == 2:
            res += decades[whole]
            res += ' Ð´Ð²Ðµ'
        else:
            res += s[1]

    if m < 10 or m > 19:
        if rem == 1:
            res += ' Ð¼Ð¸Ð½ÑƒÑ‚Ð°'
        elif rem > 1 and rem < 5:
            res += ' Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹'
        else:
            res += ' Ð¼Ð¸Ð½ÑƒÑ‚'
    else:
        res += ' Ð¼Ð¸Ð½ÑƒÑ‚'
            
    return res
   

def getDate():
    '''ðŸ“† ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ¹ ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ð¾Ð¹ Ð´Ð°Ñ‚Ñ‹ ðŸ“†'''
    days = {

        '01':'Ð¿ÐµÑ€Ð²Ð¾Ðµ',
        '02':'Ð²Ñ‚Ð¾Ñ€Ð¾Ðµ',
        '03':'Ñ‚Ñ€ÐµÑ‚ÑŒÐµ',
        '04':'Ñ‡ÐµÑ‚Ð²Ñ‘Ñ€Ñ‚Ð¾Ðµ',
        '05':'Ð¿ÑÑ‚Ð¾Ðµ',
        '06':'ÑˆÐµÑÑ‚Ð¾Ðµ',
        '07':'ÑÐµÐ´ÑŒÐ¼Ð¾Ðµ',
        '08':'Ð²Ð¾ÑÑŒÐ¼Ð¾Ðµ',
        '09':'Ð´ÐµÐ²ÑÑ‚Ð¾Ðµ',
        '10':'Ð´ÐµÑÑÑ‚Ð¾Ðµ',
        '11':'Ð¾Ð´Ð¸Ð½Ð½Ð°Ð´Ñ†Ð°Ñ‚Ð¾Ðµ',
        '12':'Ð´Ð²ÐµÐ½Ð°Ð´Ñ†Ð°Ñ‚Ð¾Ðµ',
        '13':'Ñ‚Ñ€Ð¸Ð½Ð°Ð´Ñ†Ð°Ñ‚Ð¾Ðµ',
        '14':'Ñ‡ÐµÑ‚Ñ‹Ñ€Ð½Ð°Ð´Ñ†Ð°Ñ‚Ð¾Ðµ',
        '15':'Ð¿ÑÑ‚Ð½Ð°Ð´Ñ†Ð°Ñ‚Ð¾Ðµ',
        '16':'ÑˆÐµÑÑ‚Ð½Ð°Ð´Ñ†Ð°Ñ‚Ð¾Ðµ',
        '17':'ÑÐµÐ¼Ð½Ð°Ð´Ñ†Ð°Ñ‚Ð¾Ðµ',
        '18':'Ð²Ð¾ÑÐµÐ¼Ð½Ð°Ð´Ñ†Ð°Ñ‚Ð¾Ðµ',
        '19':'Ð´ÐµÐ²ÑÑ‚Ð½Ð°Ð´Ñ†Ð°Ñ‚Ð¾Ðµ',
        '20':'Ð´Ð²Ð°Ð´Ñ†Ð°Ñ‚Ð¾Ðµ',
        '30':'Ñ‚Ñ€Ð¸Ð´Ñ†Ð°Ñ‚Ð¾Ðµ',

    }

    months = {

        '01':'ÑÐ½Ð²Ð°Ñ€Ñ',
        '02':'Ñ„ÐµÐ²Ñ€Ð°Ð»Ñ',
        '03':'Ð¼Ð°Ñ€Ñ‚Ð°',
        '04':'Ð°Ð¿Ñ€ÐµÐ»Ñ',
        '05':'Ð¼Ð°Ñ',
        '06':'Ð¸ÑŽÐ½Ñ',
        '07':'Ð¸ÑŽÐ»Ñ',
        '08':'Ð°Ð²Ð³ÑƒÑÑ‚Ð°',
        '09':'ÑÐµÐ½Ñ‚ÑÐ±Ñ€Ñ',
        '10':'Ð¾ÐºÑ‚ÑÐ±Ñ€Ñ',
        '11':'Ð½Ð¾ÑÐ±Ñ€Ñ',
        '12':'Ð´ÐµÐºÐ°Ð±Ñ€Ñ',

    }

    centuries = {

        '1':'ÑÑ‚Ð¾',
        '2':'Ð´Ð²ÐµÑÑ‚Ð¸',
        '3':'Ñ‚Ñ€Ð¸ÑÑ‚Ð°',
        '4':'Ñ‡ÐµÑ‚Ñ‹Ñ€ÐµÑÑ‚Ð°',
        '5':'Ð¿ÑÑ‚ÑŒÑÐ¾Ñ‚',
        '6':'ÑˆÐµÑÑ‚ÑŒÑÐ¾Ñ‚',
        '7':'ÑÐµÐ¼ÑŒÑÐ¾Ñ‚',
        '8':'Ð²Ð¾ÑÐµÐ¼ÑŒÑÐ¾Ñ‚',
        '9':'Ð´ÐµÐ²ÑÑ‚ÑŒÑÐ¾Ñ‚',

    }

    decades = {

        '2':'Ð´Ð²Ð°Ð´Ñ†Ð°Ñ‚ÑŒ',
        '3':'Ñ‚Ñ€Ð¸Ð´Ñ†Ð°Ñ‚ÑŒ',
        '4':'ÑÐ¾Ñ€Ð¾Ðº',
        '5':'Ð¿ÑÑ‚ÑŒÐ´ÐµÑÑÑ‚',
        '6':'ÑˆÐµÑÑ‚ÑŒÐ´ÐµÑÑÑ‚',
        '7':'ÑÐµÐ¼ÑŒÐ´ÐµÑÑÑ‚',
        '8':'Ð²Ð¾ÑÐµÐ¼ÑŒÐ´ÐµÑÑÑ‚',
        '9':'Ð´ÐµÐ²ÑÐ½Ð¾ÑÑ‚Ð¾',

    }

    years = {

        '01':'Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾',
        '02':'Ð²Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾',
        '03':'Ñ‚Ñ€ÐµÑ‚ÑŒÐµÐ³Ð¾',
        '04':'Ñ‡ÐµÑ‚Ð²Ñ‘Ñ€Ñ‚Ð¾Ð³Ð¾',
        '05':'Ð¿ÑÑ‚Ð¾Ð³Ð¾',
        '06':'ÑˆÐµÑÑ‚Ð¾Ð³Ð¾',
        '07':'ÑÐµÐ´ÑŒÐ¼Ð¾Ð³Ð¾',
        '08':'Ð²Ð¾ÑÑŒÐ¼Ð¾Ð³Ð¾',
        '09':'Ð´ÐµÐ²ÑÑ‚Ð¾Ð³Ð¾',
        '10':'Ð´ÐµÑÑÑ‚Ð¾Ð³Ð¾',
        '11':'Ð¾Ð´Ð¸Ð½Ð½Ð°Ð´Ñ†Ð°Ñ‚Ð¾Ð³Ð¾',
        '12':'Ð´Ð²ÐµÐ½Ð°Ð´Ñ†Ð°Ñ‚Ð¾Ð³Ð¾',
        '13':'Ñ‚Ñ€Ð¸Ð½Ð°Ð´Ñ†Ð°Ñ‚Ð¾Ð³Ð¾',
        '14':'Ñ‡ÐµÑ‚Ñ‹Ñ€Ð½Ð°Ð´Ñ†Ð°Ñ‚Ð¾Ð³Ð¾',
        '15':'Ð¿ÑÑ‚Ð½Ð°Ð´Ñ†Ð°Ñ‚Ð¾Ð³Ð¾',
        '16':'ÑˆÐµÑÑ‚Ð½Ð°Ð´Ñ†Ð°Ñ‚Ð¾Ð³Ð¾',
        '17':'ÑÐµÐ¼Ð½Ð°Ð´Ñ†Ð°Ñ‚Ð¾Ð³Ð¾',
        '18':'Ð²Ð¾ÑÐµÐ¼Ð½Ð°Ð´Ñ†Ð°Ñ‚Ð¾Ð³Ð¾',
        '19':'Ð´ÐµÐ²ÑÑ‚Ð½Ð°Ð´Ñ†Ð°Ñ‚Ð¾Ð³Ð¾',
        '20':'Ð´Ð²Ð°Ð´Ñ†Ð°Ñ‚Ð¾Ð³Ð¾',
        '30':'Ñ‚Ñ€Ð¸Ð´Ñ†Ð°Ñ‚Ð¾Ð³Ð¾',
        '40':'ÑÐ¾Ñ€Ð¾ÐºÐ¾Ð²Ð¾Ð³Ð¾',
        '50':'Ð¿ÑÑ‚Ð¸Ð´ÐµÑÑÑ‚Ð¾Ð³Ð¾',
        '60':'ÑˆÐµÑÑ‚Ð¸Ð´ÐµÑÑÑ‚Ð¾Ð³Ð¾',
        '70':'ÑÐµÐ¼Ð¸Ð´ÐµÑÑÑ‚Ð¾Ð³Ð¾',
        '80':'Ð²Ð¾ÑÑŒÐ¼Ð¸Ð´ÐµÑÑÑ‚Ð¾Ð³Ð¾',
        '90':'Ð´ÐµÐ²ÑÐ½Ð¾ÑÑ‚Ð¾Ð³Ð¾',
        '100':'ÑÐ¾Ñ‚Ð¾Ð³Ð¾',
        '200':'Ð´Ð²ÑƒÑ…ÑÐ¾Ñ‚Ð¾Ð³Ð¾',
        '300':'Ñ‚Ñ€ÐµÑ…ÑÐ¾Ñ‚Ð¾Ð³Ð¾',
        '400':'Ñ‡ÐµÑ‚Ñ‹Ñ€Ñ‘Ñ…ÑÐ¾Ñ‚Ð¾Ð³Ð¾',
        '500':'Ð¿ÑÑ‚Ð¸ÑÐ¾Ñ‚Ð¾Ð³Ð¾',
        '600':'ÑˆÐµÑÑ‚Ð¸ÑÐ¾Ñ‚Ð¾Ð³Ð¾',
        '700':'ÑÐµÐ¼Ð¸ÑÐ¾Ñ‚Ð¾Ð³Ð¾',
        '800':'Ð²Ð¾ÑÑŒÐ¼Ð¸ÑÐ¾Ñ‚Ð¾Ð³Ð¾',
        '900':'Ð´ÐµÐ²ÑÑ‚Ð¸ÑÐ¾Ñ‚Ð¾Ð³Ð¾',
        '2000':'Ð´Ð²ÑƒÑ…Ñ‚Ñ‹ÑÑÑ‡Ð½Ð¾Ð³Ð¾',
    }

    d = ''
    m = ''
    y = ''

    s = time.strftime('%d %m %Y')
    s = s.split(' ')

    #s = '01 01 2019' # Ð¢Ð•Ð¡Ð¢, Ð£Ð‘Ð ÐÐ¢Ð¬!!!
    #s = s.split(' ') # Ð¢Ð•Ð¡Ð¢, Ð£Ð‘Ð ÐÐ¢Ð¬!!!

    if int(s[0]) < 20 or int(s[0][1]) == 0:
        d = days[s[0]]
    elif int(s[0][0]) == 2:
        d = 'Ð´Ð²Ð°Ð´Ñ†Ð°Ñ‚ÑŒ ' + days['0'+s[0][1]]
    else: # elif int(s[0][0]) == 3:
        d = 'Ñ‚Ñ€Ð¸Ð´Ñ†Ð°Ñ‚ÑŒ ' + days['0'+s[0][1]]
    
    d += ' '

    m = months[s[1]]
    m += ' '


    if s[2][3] == '0':
        if s[2][2] == '0':
            if s[2][1] == '0':
                y = years[s[2]]
            else:
                if s[2][0] == '1':
                    y = 'Ð¾Ð´Ð½Ð° Ñ‚Ñ‹ÑÑÑ‡Ð° '
                else:
                    y = 'Ð´Ð²Ðµ Ñ‚Ñ‹ÑÑÑ‡Ð¸ '
                y += years[s[2][1:]]
        else:
            if s[2][0] == '1':
                y = 'Ð¾Ð´Ð½Ð° Ñ‚Ñ‹ÑÑÑ‡Ð° '
            else:
                y = 'Ð´Ð²Ðµ Ñ‚Ñ‹ÑÑÑ‡Ð¸ '
            y += centuries[s[2][1]]
            y += ' '
            y += years[s[2][2:]]
    else:
        if s[2][0] == '1':
            y = 'Ð¾Ð´Ð½Ð° Ñ‚Ñ‹ÑÑÑ‡Ð° '
        else:
            y = 'Ð´Ð²Ðµ Ñ‚Ñ‹ÑÑÑ‡Ð¸ '

        if s[2][1] != '0':
            y += centuries[s[2][1]]
            y += ' '

        if s[2][2] != '0' and s[2][2] != '1':
            y += decades[s[2][2]]
            y += ' '

        if s[2][2] == '1':
            y += years[s[2][2:]]
        else:
            y += years['0'+s[2][3]]
    
    y += ' Ð³Ð¾Ð´Ð°'

    return d + m + y
